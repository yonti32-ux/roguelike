{
  "terrain": {
    "initial_distribution": {
      "grass": 0.35,
      "plains": 0.2,
      "forest": 0.15,
      "mountain": 0.12,
      "desert": 0.1,
      "water": 0.08
    },
    "smoothing": {
      "iterations": 3,
      "neighbor_radius": 1,
      "conversion_threshold": 4,
      "conversion_chance": 0.6
    },
    "water_clustering": {
      "min_neighbors": 2,
      "isolation_conversion_chance": 0.3
    },
    "refinement": {
      "forest_isolation_chance": 0.15,
      "desert_conversion_chance": 0.25,
      "mountain_water_threshold": 3,
      "mountain_conversion_chance": 0.2,
      "variation_chance": 0.02
    },
    "chunk_based": {
      "enabled": true,
      "use_heightmap": true,
      "heightmap_scale": 0.04,
      "heightmap_octaves": 5,
      "heightmap_persistence": 0.5,
      "heightmap_lacunarity": 2.0,
      "moisture_scale": 0.06,
      "moisture_octaves": 3,
      "moisture_persistence": 0.6,
      "moisture_lacunarity": 2.0,
      "water_level": -0.25,
      "lowland_threshold": 0.0,
      "highland_threshold": 0.1,
      "mountain_threshold": 0.3,
      "south_zone": 0.3,
      "north_zone": 0.3,
      "latitude_transition": 0.2,
      "base_region_size": 16,
      "region_size_variance": 0.4,
      "noise_scales": [
        0.03,
        0.08,
        0.2
      ],
      "noise_weights": [
        0.4,
        0.35,
        0.25
      ],
      "coherence_radius": 2,
      "coherence_strength": 0.15,
      "smoothing_iterations": 3,
      "diversity_patch_chance": 0.05,
      "water_noise_scale": 0.02,
      "water_threshold": -0.3,
      "water_body_count": 4,
      "min_water_body_size": 20,
      "max_water_body_size": 100,
      "biome_distribution": {
        "grass": 0.22,
        "plains": 0.18,
        "forest": 0.2,
        "mountain": 0.15,
        "desert": 0.15,
        "water": 0.1
      },
      "biome_rules": {
        "grass": {
          "variation": 0.15,
          "allowed_terrain": [
            "grass",
            "plains"
          ],
          "terrain_weights": {
            "grass": 0.7,
            "plains": 0.3
          }
        },
        "plains": {
          "variation": 0.15,
          "allowed_terrain": [
            "plains",
            "grass"
          ],
          "terrain_weights": {
            "plains": 0.7,
            "grass": 0.3
          }
        },
        "forest": {
          "variation": 0.2,
          "allowed_terrain": [
            "forest",
            "grass"
          ],
          "terrain_weights": {
            "forest": 0.8,
            "grass": 0.2
          }
        },
        "mountain": {
          "variation": 0.25,
          "allowed_terrain": [
            "mountain",
            "forest",
            "grass"
          ],
          "terrain_weights": {
            "mountain": 0.6,
            "forest": 0.25,
            "grass": 0.15
          }
        },
        "desert": {
          "variation": 0.15,
          "allowed_terrain": [
            "desert",
            "plains"
          ],
          "terrain_weights": {
            "desert": 0.8,
            "plains": 0.2
          }
        },
        "water": {
          "variation": 0.1,
          "allowed_terrain": [
            "water",
            "grass"
          ],
          "terrain_weights": {
            "water": 0.9,
            "grass": 0.1
          }
        }
      }
    }
  },
  "poi": {
    "max_pois": 200,
    "max_placement_attempts": 200,
    "max_consecutive_failures": 50,
    "terrain_blacklist": [
      "water"
    ],
    "preferred_starting_terrain": [
      "grass",
      "plains"
    ],
    "placement_rules": {
      "placement_order": [
        "town",
        "village",
        "dungeon",
        "camp"
      ],
      "spatial_rules": {
        "village": {
          "near_town": {
            "enabled": true,
            "min_distance": 10,
            "max_distance": 30,
            "chance": 0.7
          },
          "avoid_dungeon": {
            "enabled": true,
            "min_distance": 15
          }
        },
        "dungeon": {
          "avoid_town": {
            "enabled": true,
            "min_distance": 25
          },
          "avoid_village": {
            "enabled": true,
            "min_distance": 20
          },
          "prefer_remote": {
            "enabled": true,
            "bonus_weight": 1.5,
            "distance_threshold": 30
          }
        },
        "camp": {
          "avoid_town": {
            "enabled": true,
            "min_distance": 12
          },
          "avoid_village": {
            "enabled": true,
            "min_distance": 10
          }
        }
      }
    }
  },
  "floor": {
    "size_scaling": {
      "1": {
        "scales": [
          0.9,
          1.0,
          1.1
        ],
        "weights": [
          0.3,
          0.4,
          0.3
        ]
      },
      "2": {
        "scales": [
          1.0,
          1.1,
          1.25
        ],
        "weights": [
          0.3,
          0.4,
          0.3
        ]
      },
      "3-4": {
        "scales": [
          1.1,
          1.25,
          1.5
        ],
        "weights": [
          0.2,
          0.5,
          0.3
        ]
      },
      "5-6": {
        "scales": [
          1.25,
          1.5,
          1.75
        ],
        "weights": [
          0.3,
          0.4,
          0.3
        ]
      },
      "7-8": {
        "scales": [
          1.5,
          1.75,
          2.0
        ],
        "weights": [
          0.2,
          0.5,
          0.3
        ]
      },
      "9+": {
        "scales": [
          1.75,
          2.0,
          2.25
        ],
        "weights": [
          0.3,
          0.4,
          0.3
        ]
      }
    },
    "min_scale": 0.9,
    "max_scale": 2.5,
    "room_count": {
      "base": 10,
      "min": 6,
      "max": 22,
      "density_formula": "sqrt"
    },
    "room_size": {
      "min": 4,
      "max": 9
    },
    "wall_border": 1
  },
  "room_tags": {
    "shop": {
      "chance": 0.7,
      "max_per_floor": 1
    },
    "graveyard": {
      "min_floor": 2,
      "chance": 0.8,
      "max_per_floor": 1
    },
    "sanctum": {
      "min_floor": 3,
      "chance": 0.5,
      "max_per_floor": 1
    },
    "armory": {
      "min_floor": 2,
      "chance": 0.5,
      "max_per_floor": 1
    },
    "library": {
      "min_floor": 2,
      "chance": 0.5,
      "max_per_floor": 1
    },
    "arena": {
      "min_floor": 3,
      "chance": 0.4,
      "max_per_floor": 1
    }
  },
  "dungeon": {
    "floor_count": {
      "base": 3,
      "level_multiplier": 0.4,
      "max": 20,
      "variance": {
        "low_level": {
          "max_level": 5,
          "min": -1,
          "max": 2
        },
        "mid_level": {
          "max_level": 10,
          "min": -2,
          "max": 2
        },
        "high_level": {
          "min": -2,
          "max": 3
        }
      },
      "min_floors_per_level_range": {
        "1-3": 3,
        "4-6": 4,
        "7-9": 5,
        "10-12": 6,
        "13-15": 7,
        "16-18": 8,
        "19+": 9
      }
    }
  }
}